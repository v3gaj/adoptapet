<%- model_class = Pet -%>
<div class="page-header">
  <h1>Mascotas Disponibles para Adopción</h1>
  <%= link_to new_pet_path, class: 'icon-title' do %>
		<i class="fa fa-plus-circle"></i>
	<% end %>
</div>

<div class="filter-wrapper">
	<%= form_for(:data, :url => {:action => 'index'}) do |f| %>
	  <div class="form-group filter-group col-lg-3">
	    <div class="col-lg-12">
	      <%= f.select :category_id, options_for_select(Category.all.joins(:pets).uniq.map{|p|[p.title, p.id]}), { :include_blank => "Categoría..." }, class: "form-control", autofocus: true %>
	    </div>
	  </div>
	  <div class="form-group filter-group col-lg-3">
	    <div class="col-lg-12">
	      <%= f.select :priority, options_for_select([ "Alta", "Media", "Baja"]), { :include_blank => "Prioridad..." }, class: "form-control", autofocus: true %>
	    </div>
	  </div>
	  <div class="form-group filter-group col-lg-3">
	    <div class="col-lg-12">
	      <%= f.select :gender, options_for_select([ "Macho", "Hembra"]), { :include_blank => "Género..." }, class: "form-control", autofocus: true %>
	    </div>
	  </div>
	  <div class="form-group filter-group col-lg-3">
	    <div class="col-lg-12">
	      <%= f.submit "Filtrar", class: 'btn btn-primary col-lg-12' %>
	    </div>
	  </div>
	<% end %>
	<% if @search_results %>
		<h4><%= @search_results %> <%= @search_results != 1  ? "Resultados" : "Resultado" %></h4>
	<% end %>
</div>

<% if @pets && @pets.count > 0 %>
  <%= render 'petsTable', obj: @pets %>
<% else %>
  <p class="lead">No hay mascotas que requieran adopción!</p>
<% end %>

<div align="center">
  <% if params['data'] %>
    <%= will_paginate( :params => {:data => params['data'] } ) %>
  <% else %>
    <%= will_paginate %>
  <% end %>
</div>